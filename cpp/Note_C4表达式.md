Forward declarations and ODRhttps://www.learncpp.com/cpp-tutorial/forward-declarations/

# 重载运算符

当运算符用作于类类型的运算对象时，用户可以自行定义其含义。称之为 重载运算符

IO库的<<、>>运算符，string 、vector和迭代器使用的运算符都是重载的运算符

重载运算符，包括运算对象的类型和返回值的类型，都是由该运算符定义的；但是运算符对象的个数、运算符的优先级和结合律都是无法改变的。



# 左值和右值

当一个对象被用作右值时，用的是对象的值（内容）；当被用作左值时，用的是对象的身份（在内存中的位置）

原则：在需要右值的地方可以用左值代替，但不能把右值当作左值（位置）使用

当一个左值被当右值使用时，实际使用的是它的内容。

- 赋值运算符需要一个左值对象，得到的结果也仍然是一个左值对象

- 取地址符作用于一个左值对象，返回一个指向该运算对象的指针，这个指针是右值

- 内置解引用运算符、下标运算符、string和vector的下标运算符的求值结果都是左值

- 如果表达的求值结果是左值，则decltype作用在该表达式（不是变量）得到 是一个引用类型.

- ```
  int *p;
  decltype(*p) 的结果是int & ，表达的结果类型
  decltype(&p) 的结果是int ** ，表达式结果的类型
  decltype((var))得到的是引用类型
  decltype(var)得到是var的类型
  ```



# 赋值运算符

列表初始化不允许损失精度：int k=0;   k={3.14} ；//错误，窄化转换

如果不需要修改前的值，则用递增和递减的前置版本

#### 位运算符

~ ：位求反；<<：左移；>>：右移

&、^（异或）



#### sizeof运算符

sizeof (type)

sizeof expr ，sizeof并不真正运算对象

sizeof 指针；得到指针所占空间

sizeof  *p ;得到指针所指向空间所占的大小，指针不需要有效

sizeof 数组 ；得到整个数组空间的大小

sizeof string对象或vector只返回类型固定部分的大小，不会计算对象中元素占了多少空间

sizeof的返回值是一个常量表达式，所以可以用来声明数组的维度

# 逗号运算符

经常用于for语句：逗号运算符有两个运算对象，按照从左向右的顺序依次求值。

首先对左边的表达式求值，再丢弃结果，逗号表达式真正的结果是右边表达式的值



# 命名的强制类型转换

cast-name<type >(expr) ;

type是转换的目标类型，expr是要转换的值，若type是引用类型，则结果是左值



